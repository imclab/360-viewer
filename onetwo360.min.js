(function(){var t,e,o,i;e=function(t,e,o){var i;return i=new XMLHttpRequest,i.open(e?"POST":"GET",t,!!o),e&&i.setRequestHeader("Content-type","text/plain"),o&&(i.onreadystatechange=function(){return 4===i.readyState?o(200===i.status?null:i.status,i.responseText):void 0}),i.send(e),o?void 0:i.responseText},i=function(t,e){var o,i,s;s=[];for(o in e)i=e[o],s.push(t[o]=i);return s},o=function(){return{frames:{current:0,normal:{width:void 0,height:void 0,urls:[]},zoom:{width:void 0,height:void 0,urls:[]}},fullscreen:!1,zoom:{lensSize:200,enabled:!1,x:void 0,y:void 0},domElem:{width:void 0,height:void 0,domId:void 0}}},t=function(t,e){var o,s,n,l,h,r,d,a,u;for(this.model=t,s=document.getElementById(e),this.defaultWidth=s.offsetWidth,this.defaultHeigh=s.offsetHeight,i(s.style,{display:"inline-block",width:this.defaultWidth+"px",height:this.defaultHeight+"px"}),this.style={root:{cursor:"url(res/cursor_rotate.cur),move"},zoomLens:{display:"block",position:"absolute",overflow:"hidden",width:this.model.zoom.lensSize,height:this.model.zoom.lensSize,border:"0px solid black",cursor:"default",backgroundColor:"rgba(100,100,100,0.8)",borderRadius:this.model.zoom.lensSize/2,boxShadow:"0px 0px 40px 0px rgba(255,255,255,.7) inset, 4px 4px 9px 0px rgba(0,0,0,0.5)",backgroundRepeat:"no-repeat"},logo:{position:"absolute",opacity:"0.7",textShadow:"0px 0px 5px white",color:"#333",transition:"opacity 1s"},btnFull:{left:"90%"},btnZoom:{left:"5%"},spinner:{position:"absolute",top:"49%",left:"49%"}},o={position:"absolute",color:"#333",opacity:"0.7",textShadow:"0px 0px 5px white",backgroundColor:"rgba(255,255,255,0)",top:"80%",fontSize:.08*this.defaultHeight,padding:.02*this.defaultHeight},i(this.style.btnFull,o),i(this.style.btnZoom,o),this.elems={},this.elems.root=document.createElement("div"),this.elems.root.innerHTML='<div class="onetwo360-zoom-lens"></div><i class="icon-OneTwo360Logo"></div><i class="fa fa-fullscreen onetwo360-fullscreen-button"></div><i class="fa fa-search onetwo360-fullscreen-button"></div><img src="spinner.gif">',s.addChild(this.elems.root),n=Object.keys(this.style),l=d=1,a=n.length;a>=1?a>=d:d>=a;l=a>=1?++d:--d)this.elems[n[l]]=this.elems.root.getChild(l-1);this.width=void 0,this.height=void 0,this.logoFade=void 0,this.elemStyle={},this.styleCache={},u=this.elems;for(h in u)r=u[h],this.elemStyle[h]=this.elems[h].style,this.styleCache[h]={};return this.update()},t.prototype.update=function(){return this._fullscreen(),this._root(),this._logo(),this._zoomLens(),this._applyStyle()},t.prototype._fullscreen=function(){return this.model.fullscreen?i(this.style.root,{position:"absolute",top:0,left:0,width:this.width=window.innerWidth,height:this.height=window.innerHeight}):i(this.style.root,{position:"relative",top:0,left:0,width:this.width=this.defaultWidth,height:this.height=this.defaultHeight})},t.prototype._root=function(){return i(this.style.root,{backgroundImage:"url("+this.model.frames.normal.urls[this.model.frames.current]+")",backgroundSize:""+this.width+"px "+this.height+"px"})},t.prototype._logo=function(){return{top:.35*h+"px",left:.25*w+"px",fontSize:.2*h+"px"}},t.prototype._zoomLens=function(){var t,e;return this.model.zoom.enabled?(t=this.model.frames.current,e=this.model.frames.zoom,i(this.style.zoomLens,{display:"block",left:123,top:123,backgroundImage:"url("+e.urls[t]+")",backgroundSize:""+e.width+"px "+e.height+"px",backgroundPosition:"123px 123px"})):i(this.style.zoomLens,{display:"none"})},t.prototype._applyStyle=function(){var t,e,o,i,s,n;s=this.style,n=[];for(e in s)t=s[e],n.push(function(){var s;s=[];for(o in t)i=t[o],this.styleCache[o]!==i?(this.elemStyle[e][o]="number"==typeof i?""+i+"px":i,s.push(this.styleCache[o]=i)):s.push(void 0);return s}.call(this));return n},window.onetwo360=function(){return void 0}}).call(this);